import { Start as fJ } from "./WebSharper.Core.JavaScript/Runtime.js"
import { MarkResizable as fK, SetOptional as fL, Lazy as fM, GetOptional as fN, CreateFuncWithArgs as fO, DeleteEmptyFields as fP, Create as fQ, OnLoad as fR } from "./WebSharper.Core.JavaScript/Runtime.js"
function a(fS){ return"Dispose"in fS;}
function b(){ c();d();const fS=new p("New_1");const fT=(fS.h.push(new I("status", e().View)),fS);const fU=L(fT.k, fT.h, []);const fV=new k(fU[1], D(fU[0]));let fW=(fT.i=fV,fV);const fX=fW.Doc;N("");u0035.RunById("main", fX);}
function c(){ try { const fS="<b>Network Type:</b> "+F(f().effectiveType)+" <br> <b>Downlink Speed:</b> "+f().downlink.toFixed(2)+" Mbps <br> <b>RTT:</b> "+f().rtt.toFixed(2)+" ms <br> <b>Save Data Mode:</b> "+F(f().saveData?"Enabled":"Disabled");globalThis.document.getElementById("status").innerHTML=fS;} catch(fT){ e().Set("Network Information error: "+String(fT.message));} }
function d(){ f().onchange=() => c();}
function e(){ return J.statusMessage;}
function f(){ return J.connection;}
function g(fS){ throw new Error(fS);}
function h(fS){ return[fS.K, fS.V];}
function i(fS, fT){ const fU=1+fT-fS;return fU<=0?[]:bi(fU, (fV) => fV+fS);}
class j { Equals(fS){ return this===fS;} GetHashCode(){ return -1;} }
class k extends j { doc;allVars;anchorRoot;get Doc(){ return this.doc;} constructor(fS, fT){ super();this.doc=fT;this.allVars=fS.$==0?fS.$0:g("Should not happen");this.anchorRoot=null;} }
function l(fS, fT){ n(fS, fT);return fS[fT];}
function m(fS, fT, fU){ n(fS, fT);fS[fT]=fU;}
function n(fS, fT){ if(fT<0||fT>=fS.length)g("Index was outside the bounds of the array.");}
function o(fS){ return fS.dims===2?fS.length*fS.length:fS.length;}
class p extends j { i;k;h;s;static New_1(){ return new this("New_1");} constructor(fS){ if(fS=="New_1"){ let fT;super();this.i=null;this.k=(fT=K(),String(fT));this.h=fK([]);fL(this, "s", null);} } }
class q extends j { ForTextView(){ console.warn("Content hole filled with attribute data", this.Name);return null;} AddAttribute(fS, fT){ console.warn("Var hole filled with non-Var data", this.Name);} get AsChoiceView(){ console.warn("Attribute value hole filled with non-text data", this.Name);return dZ("");} }
class r extends j { }
function s(fS, fT){ if(fS===fT)return true;else { const fU=typeof fS;if(fU=="object"){ if(fS===null||fS===void 0||fT===null||fT===void 0||!s(typeof fT, "object"))return false;else if("Equals"in fS)return fS.Equals(fT);else if("Equals"in fT)return false;else if(fS instanceof Array&&fT instanceof Array)return t(fS, fT);else if(fS instanceof Date&&fT instanceof Date)return u(fS, fT);else { const fV=[true];let fW;for(var fY in fS)if(((fZ) => { fV[0]=!fS.hasOwnProperty(fZ)||fT.hasOwnProperty(fZ)&&s(fS[fZ], fT[fZ]);return!fV[0];})(fY))break;if(fV[0]){ let fX;for(var fZ in fT)if(((f0) => { fV[0]=!fT.hasOwnProperty(f0)||fS.hasOwnProperty(f0);return!fV[0];})(fZ))break;} return fV[0];} } else return fU=="function"&&("$Func"in fS?fS.$Func===fT.$Func&&fS.$Target===fT.$Target:"$Invokes"in fS&&"$Invokes"in fT&&t(fS.$Invokes, fT.$Invokes));} }
function t(fS, fT){ let fU;let fV;if(o(fS)===o(fT)){ fU=true;fV=0;while(fU&&fV<o(fS)){!s(l(fS, fV), l(fT, fV))?fU=false:void 0;fV=fV+1;} return fU;} else return false;}
function u(fS, fT){ return fS.getTime()===fT.getTime();}
function v(fS){ const fT=typeof fS;return fT=="function"?0:fT=="boolean"?fS?1:0:fT=="number"?fS:fT=="string"?w(fS):fT=="object"?fS==null?0:fS instanceof Array?x(fS):y(fS):0;}
function w(fS){ let fT;if(fS===null)return 0;else { fT=5381;for(let fU=0, fV=fS.length-1;fU<=fV;fU++)fT=z(fT, fS[fU].charCodeAt());return fT;} }
function x(fS){ let fT=-34948909;for(let fU=0, fV=o(fS)-1;fU<=fV;fU++)fT=z(fT, v(l(fS, fU)));return fT;}
function y(fS){ if("GetHashCode"in fS)return fS.GetHashCode();else { const fT=[0];let fU;for(var fV in fS)if(((fW) => { fT[0]=z(z(fT[0], w(fW)), v(fS[fW]));return false;})(fV))break;return fT[0];} }
function z(fS, fT){ return(fS<<5)+fS+fT;}
function A(fS, fT){ if(fS===fT)return 0;else { const fU=typeof fS;switch(fU=="function"?1:fU=="boolean"?2:fU=="number"?2:fU=="string"?2:fU=="object"?3:0){ case 0:return typeof fT=="undefined"?0:-1;case 1:return g("Cannot compare function values.");case 2:return fS<fT?-1:1;case 3:if(fS===null)return -1;else if(fT===null)return 1;else if("CompareTo"in fS)return fS.CompareTo(fT);else if("CompareTo0"in fS)return fS.CompareTo0(fT);else if(fS instanceof Array&&fT instanceof Array)return B(fS, fT);else if(fS instanceof Date&&fT instanceof Date)return C(fS, fT);else { const fV=[0];let fW;for(var fY in fS)if(((fZ) =>!fS.hasOwnProperty(fZ)?false:!fT.hasOwnProperty(fZ)?(fV[0]=1,true):(fV[0]=A(fS[fZ], fT[fZ]),fV[0]!==0))(fY))break;if(fV[0]===0){ let fX;for(var fZ in fT)if(((f0) =>!fT.hasOwnProperty(f0)?false:!fS.hasOwnProperty(f0)&&(fV[0]=-1,true))(fZ))break;} return fV[0];} break;} } }
function B(fS, fT){ let fU;let fV;if(o(fS)<o(fT))return -1;else if(o(fS)>o(fT))return 1;else { fU=0;fV=0;while(fU===0&&fV<o(fS)){ fU=A(l(fS, fV), l(fT, fV));fV=fV+1;} return fU;} }
function C(fS, fT){ return A(fS.getTime(), fT.getTime());}
function D(fS){ N("index");return fS?O("index", M("main"), fS):void 0;}
function E(fS){ let fT=[];let fU;for(var fV in fS)fT.push(fS[fV]);return fT;}
function F(fS){ return fS==null?"":fS;}
class G extends j { }
class H extends q { name;fillWith;get Name(){ return this.name;} get Value(){ return this.fillWith;} get AsChoiceView(){ return dZ(this.fillWith);} constructor(fS, fT){ super();this.name=fS;this.fillWith=fT;} }
class I extends q { name;fillWith;get Name(){ return this.name;} ForTextView(){ return M(this.fillWith);} get AsChoiceView(){ return d0(this.fillWith);} constructor(fS, fT){ super();this.name=fS;this.fillWith=fT;} }
let J=fM((fS) => class fT { static { J=fS(this);} static connection;static statusMessage;static { this.statusMessage=u0038.Create_1("Checking network status...");this.connection=globalThis.navigator.connection;} });
function K(){ return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(new RegExp("[xy]", "g"), (fS) => { const fT=Math.random()*16|0;const fU=fS=="x"?fT:fT&3|8;return fU.toString(16);});}
function L(fS, fT, fU){ const fV=new u0037("New_5");const fW=new u0039("New_3");const fX=cd(fT);try { while(fX.MoveNext()){ const fY=fX.Current;const fZ=fY.Name;fW.SAdd(fZ);fV.set_Item(fZ, fY);} } finally { if(typeof fX=="object"&&a(fX))fX.Dispose();} return[$(fT, bo((f0) => { const f1=f0[0];const f2=f0[1];const f3=f0[2];if(fW.Contains(f1))return null;else { const f4=f2===0?bD.GetOrAddHoleFor(fS, f1, () => { const f5=f3==null?null:M(f3.$0);let f6=u0038.Create_1(f5==null?"":f5.$0);return new bE(f1, f6);}):f2===1?bD.GetOrAddHoleFor(fS, f1, () => { const f5=f3==null?null:M(f3.$0);let f6=u0038.Create_1(f5==null?0:f5.$0);return new bF(f1, f6);}):f2===2?bD.GetOrAddHoleFor(fS, f1, () => { const f5=f3==null?null:M(f3.$0);let f6=u0038.Create_1(f5==null?false:f5.$0);return new bG(f1, f6);}):f2===3?bD.GetOrAddHoleFor(fS, f1, () => { const f5=f3==null?null:M(f3.$0);let f6=u0038.Create_1(f5==null?-8640000000000000:f5.$0);return new bH(f1, f6);}):f2===4?bD.GetOrAddHoleFor(fS, f1, () => new bI(f1, u0038.Create_1([]))):f2===5?bD.GetOrAddHoleFor(fS, f1, () => new bJ(f1, u0038.Create_1(M(globalThis.document.querySelector("[ws-dom="+f1+"]"))))):f2===6?bD.GetOrAddHoleFor(fS, f1, () => { const f5=f3==null?null:M(f3.$0);let f6=u0038.Create_1(f5==null?[]:f5.$0);return new bK(f1, f6);}):g("Invalid value type");fV.set_Item(f1, f4);return M(f4);} }, fU)), {$:0, $0:fV}];}
function M(fS){ return{$:1, $0:fS};}
function N(fS){!P()?(Q(true),R(globalThis.document.body, "")):void 0;S().set_Item(fS, T(""));}
function O(fS, fT, fU){ let fV;const fW=(fV=null,[T(fS).TryGetValue(fT==null?"":fT.$0, {get:() => fV, set:(fX) => { fV=fX;}}), fV]);return fW[0]?U(fW[1].cloneNode(true), fU):(console.warn("Local template doesn't exist", fT),u0035.Empty);}
function P(){ return ci.LocalTemplatesLoaded;}
function Q(fS){ ci.LocalTemplatesLoaded=fS;}
function R(fS, fT){ const fU=T(fT);const fV=new u0037("New_5");const fW=fS.querySelectorAll("[ws-template]");for(let f8=0, f9=fW.length-1;f8<=f9;f8++){ const fX=fW[f8];const fY=fX.getAttribute("ws-template").toLowerCase();fX.removeAttribute("ws-template");fV.set_Item(fY, V(fX));} const fZ=fS.querySelectorAll("[ws-children-template]");for(let f_=0, f$=fZ.length-1;f_<=f$;f_++){ const f0=fZ[f_];const f1=f0.getAttribute("ws-children-template").toLowerCase();f0.removeAttribute("ws-children-template");fV.set_Item(f1, W(f0));} const f2=fS.querySelectorAll("template[id]");for(let ga=0, gb=f2.length-1;ga<=gb;ga++){ const f3=f2[ga];fV.set_Item(f3.getAttribute("id").toLowerCase(), X(f3));} const f4=fS.querySelectorAll("template[name]");for(let gc=0, gd=f4.length-1;gc<=gd;gc++){ const f5=f4[gc];fV.set_Item(f5.getAttribute("name").toLowerCase(), X(f5));} const f6=new u0039("New_3");function f7(ge){ if(!fU.ContainsKey(ge)){ let gf;const gg=(gf=null,[fV.TryGetValue(ge, {get:() => gf, set:(gh) => { gf=gh;}}), gf]);if(gg[0]){ f6.SAdd(ge);fV.RemoveKey(ge);Y(fT, M(ge), gg[1], M(f7));} else console.warn(f6.Contains(ge)?"Encountered loop when instantiating "+ge:"Local template does not exist: "+ge);} } while(fV.count>0)f7(ba(fV.Keys));}
function S(){ return ci.LoadedTemplates;}
function T(fS){ let fT;const fU=(fT=null,[S().TryGetValue(fS, {get:() => fT, set:(fW) => { fT=fW;}}), fT]);if(fU[0])return fU[1];else { const fV=new u0037("New_5");S().set_Item(fS, fV);return fV;} }
function U(fS, fT){ let fU;const fV=Z(fS, $(fT, u0030().Values));const fW=fV[1];const fX=fV[0];const fY=fX.Els;return!s(fY, null)&&fY.length===1&&(l(fY, 0)instanceof Node&&(s(l(fY, 0).nodeType, Node.ELEMENT_NODE)&&(fU=l(fY, 0),true)))?cK.TreeNode(fX, fW):u0035.Mk(bL(fX), fW);}
function V(fS){ fS.removeAttribute("ws-template");const fT=fS.getAttribute("ws-replace");if(fT==null){ } else { fS.removeAttribute("ws-replace");const fU=fS.parentNode;if(s(fU, null)){ } else { const fV=globalThis.document.createElement(fS.tagName);fV.setAttribute("ws-replace", fT);fU.replaceChild(fV, fS);} } const fW=globalThis.document.createElement("div");fW.appendChild(fS);return fW;}
function W(fS){ const fT=globalThis.document.createElement("div");while(fS.hasChildNodes())fT.appendChild(fS.firstChild);return fT;}
function X(fS){ const fT=globalThis.document.createElement("div");const fU=fS.content;for(let fV=0, fW=fU.childNodes.length-1;fV<=fW;fV++)fT.appendChild(fU.childNodes[fV].cloneNode(true));return fT;}
function Y(fS, fT, fU, fV){ const fW=new u0039("New_3");function fX(f4, f5){ while(true)switch(f4){ case 0:if(f5!==null){ const f6=f5.nextSibling;if(s(f5.nodeType, Node.TEXT_NODE))cT(f5);else if(s(f5.nodeType, Node.ELEMENT_NODE))fZ(f5);f5=f6;} else return null;break;case 1:const f7=c1(f5.nodeName, M(3), null).toLowerCase();const f8=f7.indexOf(".");const f9=f8===-1?[fS, f7]:[c1(f7, null, M(f8-1)), c1(f7, M(f8+1), null)];const f_=f9[1];const f$=f9[0];if(f$!=""&&!S().ContainsKey(f$))return cU(f_);else { if(f$==""&&fV!=null)fV.$0(f_);const ga=S().Item(f$);if(!ga.ContainsKey(f_))return cU(f_);else { const gb=ga.Item(f_);const gc=gb.cloneNode(true);const gd=new u0039("New_3");const ge=new u0037("New_5");const gf=f5.attributes;for(let gp=0, gq=gf.length-1;gp<=gq;gp++){ const gg=gf.item(gp).name.toLowerCase();const gh=gf.item(gp).nodeValue;let gi=gh==""?gg:gh.toLowerCase();ge.set_Item(gg, gi);if(!gd.SAdd(gg))console.warn("Hole mapped twice", gg);} for(let gr=0, gs=f5.childNodes.length-1;gr<=gs;gr++){ const gj=f5.childNodes[gr];if(s(gj.nodeType, Node.ELEMENT_NODE))if(!gd.SAdd(gj.nodeName.toLowerCase()))console.warn("Hole filled twice", f_);} const gk=f5.childNodes.length===1&&s(f5.firstChild.nodeType, Node.TEXT_NODE);if(gk){ const gl=cV(gc, f5.firstChild.textContent, f_);const gm=((gt) =>(gu) => gt.SAdd(gu))(gd);let gn=((gt) =>(gu) => { if(gu!=null)gt(gu.$0);})((gt) => { gm(gt);});gn(gl);} cW(gc, gd);if(!gk){ for(let gt=0, gu=f5.childNodes.length-1;gt<=gu;gt++){ const go=f5.childNodes[gt];if(s(go.nodeType, Node.ELEMENT_NODE))if(go.hasAttributes())cX(gc, go);else fY(gc, go);} } cY(gc, ge);cZ(gc, f5.parentNode, f5);f5.parentNode.removeChild(f5);return;} } break;} } function fY(f4, f5){ const f6=f5.nodeName.toLowerCase();const f7=(f$, ga) => { if(f6=="title"&&f5.hasChildNodes()){ const gb=c2(f5.textContent);f5.removeChild(f5.firstChild);while(gb.hasChildNodes())f5.appendChild(gb.firstChild);} fZ(f5);return cZ(f5, f$, ga);};u0031(f4, "[ws-attr-holes]", (f$) => { const ga=d3(f$.getAttribute("ws-attr-holes"), [" "], 1);for(let ge=0, gf=ga.length-1;ge<=gf;ge++){ const gb=l(ga, ge);let gc=new RegExp("\\${"+f6+"}", "ig");let gd=f$.getAttribute(gb).replace(gc, f5.textContent);f$.setAttribute(gb, gd);} });const f8=f4.querySelector("[ws-hole="+f6+"]");if(s(f8, null)){ const f9=f4.querySelector("[ws-replace="+f6+"]");if(s(f9, null)){ const f_=f4.querySelector("slot[name="+f6+"]");return f4.tagName.toLowerCase()=="template"?(f7(f_.parentNode, f_),void f_.parentNode.removeChild(f_)):null;} else { f7(f9.parentNode, f9);f9.parentNode.removeChild(f9);return;} } else { while(f8.hasChildNodes())f8.removeChild(f8.lastChild);f8.removeAttribute("ws-hole");return f7(f8, null);} } function fZ(f4){ if(!f4.hasAttribute("ws-preserve"))if(d4(f4.nodeName.toLowerCase(), "ws-"))f1(f4);else { c0(f4);f0(f4.firstChild);} } function f0(f4){ return fX(0, f4);} function f1(f4){ return fX(1, f4);} function f2(f4){ while(true){ const f5=f4.querySelector("[ws-template]");if(s(f5, null)){ const f6=f4.querySelector("[ws-children-template]");if(s(f6, null)){ const f7=f4.querySelectorAll("template[id]");for(let gb=1, gc=f7.length-1;gb<=gc;gb++){ const f8=f7[gb];if(fW.Contains(f8)){ } else { Y(fS, M(f8.getAttribute("id")), f8, null);fW.SAdd(f8);} } const f9=f4.querySelectorAll("template[name]");for(let gd=1, ge=f9.length-1;gd<=ge;gd++){ const f_=f9[gd];if(fW.Contains(f_)){ } else { Y(fS, M(f_.getAttribute("name")), f_, null);fW.SAdd(f_);} } return null;} else { const f$=f6.getAttribute("ws-children-template");f6.removeAttribute("ws-children-template");Y(fS, M(f$), f6, null);f4=f4;} } else { const ga=f5.getAttribute("ws-template");(u0032(fS, M(ga), f5))(null);f4=f4;} } } const f3=(fT==null?"":fT.$0).toLowerCase();T(fS).set_Item(f3, fU);if(fU.hasChildNodes()){ f2(fU);f0(fU.firstChild);} }
function Z(fS, fT){ let fU;const fV=[];const fW=[];const fX=[];const fY=[];const fZ=new u0037("New_5");const f0=cd(fT);try { while(f0.MoveNext()){ const f1=f0.Current;fZ.set_Item(f1.Name, f1);} } finally { if(typeof f0=="object"&&a(f0))f0.Dispose();} let f2=c3(fS);const f3=(ga, gb) => { const gc=dq(ga, gb);fW.push(dr(gc));fX.push([ga, gc]);const gd=fN(gc.OnAfterRender);if(gd==null)return null;else { const ge=gd.$0;fY.push(() => { ge(ga);});return;} };const f4=(ga) => { let gb;const gc=(gb=null,[fZ.TryGetValue(ga, {get:() => gb, set:(gf) => { gb=gf;}}), gb]);if(gc[0]){ const gd=gc[1];if(gd instanceof dH)return M(gd.Value);else if(gd instanceof H)return M(u0035.TextNode(gd.Value));else { const ge=gd.ForTextView();return ge==null?null:M(u0035.TextView(ge.$0));} } else return null;};u0031(fS, "[ws-hole]", (ga) => { const gb=ga.getAttribute("ws-hole");ga.removeAttribute("ws-hole");while(ga.hasChildNodes())ga.removeChild(ga.lastChild);const gc=f4(gb);if(gc!=null&&gc.$==1){ const gd=gc.$0;cj(ga, gd.docNode);fV.push(cD.New(ds(ga), gd.docNode, null, ga, cE(), null));fW.push(gd.updates);} });u0031(fS, "[ws-replace]", (ga) => { const gb=f4(ga.getAttribute("ws-replace"));if(gb!=null&&gb.$==1){ const gc=gb.$0;const gd=ga.parentNode;const ge=globalThis.document.createTextNode("");gd.replaceChild(ge, ga);const gf=co(ge, gc.docNode);f2=c3(fS);const gg=bp((gh) => ga===gh, f2);if(gg==null){ } else m(f2, gg.$0, gc.docNode);fV.push(cD.New(ds(gd), gc.docNode, M([gf, ge]), gd, cE(), null));fW.push(gc.updates);} });let f5=false;u0031(fS, "slot", (ga) => { const gb=ga.getAttribute("name");const gc=gb==""||gb==null?"default":gb.toLowerCase();if(f5&&gc=="default"||!s(fS.parentElement, null)){ } else { while(ga.hasChildNodes())ga.removeChild(ga.lastChild);if(gc=="default")f5=true;const gd=f4(gc);if(gd!=null&&gd.$==1){ const ge=gd.$0;cj(ga, ge.docNode);fV.push(cD.New(ds(ga), ge.docNode, null, ga, cE(), null));fW.push(ge.updates);} } });u0031(fS, "[ws-attr]", (ga) => { let gb;const gc=ga.getAttribute("ws-attr");ga.removeAttribute("ws-attr");const gd=(gb=null,[fZ.TryGetValue(gc, {get:() => gb, set:(gf) => { gb=gf;}}), gb]);if(gd[0]){ const ge=gd[1];if(ge instanceof dI)f3(ga, ge.Value);else console.warn("Attribute hole filled with non-attribute data", gc);} });u0031(fS, "[ws-on]", (ga) => { f3(ga, dW.Concat(bo((gb) => { let gc;const gd=d3(gb, [":"], 1);const ge=(gc=null,[fZ.TryGetValue(l(gd, 1), {get:() => gc, set:(gg) => { gc=gg;}}), gc]);if(ge[0]){ const gf=ge[1];return gf instanceof dJ?M(dK(l(gd, 0), gf.Value)):gf instanceof dV?M(dW.Handler(l(gd, 0), gf.Value)):(console.warn("Event hole on"+l(gd, 0)+" filled with non-event data", l(gd, 1)),null);} else return null;}, d3(ga.getAttribute("ws-on"), [" "], 1))));ga.removeAttribute("ws-on");});u0031(fS, "[ws-onafterrender]", (ga) => { let gb;const gc=ga.getAttribute("ws-onafterrender");const gd=(gb=null,[fZ.TryGetValue(gc, {get:() => gb, set:(gf) => { gb=gf;}}), gb]);if(gd[0]){ const ge=gd[1];if(ge instanceof dX){ ga.removeAttribute("ws-onafterrender");f3(ga, dL(ge.Value));} else if(ge instanceof dY){ ga.removeAttribute("ws-onafterrender");f3(ga, dL(ge.Value));} else console.warn("onafterrender hole filled with non-onafterrender data", gc);} });u0031(fS, "[ws-var]", (ga) => { let gb;const gc=ga.getAttribute("ws-var");ga.removeAttribute("ws-var");const gd=(gb=null,[fZ.TryGetValue(gc, {get:() => gb, set:(ge) => { gb=ge;}}), gb]);if(gd[0])gd[1].AddAttribute((ge) =>(gf) => f3(ge, gf), ga);});const f6=() => { u0033("[ws-dom]", (ga) => { let gb;let gc;let gd;const ge=(gb=null,[fZ.TryGetValue(ga.getAttribute("ws-dom").toLowerCase(), {get:() => gb, set:(gi) => { gb=gi;}}), gb]);if(ge[0]){ const gf=ge[1];if(gf instanceof bJ){ const gg=gf.Value;ga.removeAttribute("ws-dom");gc=ga;const gh=new MutationObserver((gi, gj) => { bt((gk) => { gk.removedNodes.forEach(fO((gl) => gl[0]===gc&&gk.addedNodes.length!==1?(gg.SetFinal(null),gj.disconnect()):null), null);}, gi);});if(ga.parentElement!==null)gh.observe(ga.parentElement, (gd={},gd.childList=true,gd));gg.Set(M(ga));cM((gi) => { if(gi!=null&&gi.$==1){ const gj=gi.$0;if(gc===gj){ } else { gc.replaceWith(gj);gc=gj;} } else { gc.remove();gh.disconnect();} }, gg.View);} } });};u0031(fS, "[ws-attr-holes]", (ga) => { const gb=new RegExp(u0034(), "g");const gc=d3(ga.getAttribute("ws-attr-holes"), [" "], 1);ga.removeAttribute("ws-attr-holes");for(let gd=0, ge=gc.length-1;gd<=ge;gd++)((() => { let gf;const gg=l(gc, gd);const gh=ga.getAttribute(gg);let gi=null;let gj=0;const gk=[];while(gi=gb.exec(gh),gi!==null){ const gl=c1(gh, M(gj), M(gb.lastIndex-l(gi, 0).length-1));gj=gb.lastIndex;gk.push([gl, l(gi, 1)]);} const gm=c1(gh, M(gj), null);gb.lastIndex=0;const gn=bu((gs, gt) =>(((gu) => { const gv=gu[0];const gw=gu[1];return(gx) => { let gy;const gz=gx[0];const gA=gx[1];const gB=(gy=null,[fZ.TryGetValue(gw, {get:() => gy, set:(gD) => { gy=gD;}}), gy]);const gC=gB[0]?gB[1].AsChoiceView:dZ("");return gC.$==1?[gv, d1.Cons(gz==""?gC.$0:cN((gD) => gD+gz, gC.$0), gA)]:[gv+gC.$0+gz, gA];};})(gs))(gt), gk, [gm, d1.Empty]);if(gn[1].$==1){ if(gn[1].$1.$==1){ if(gn[1].$1.$1.$==1){ if(gn[1].$1.$1.$1.$==0){ const go=gn[0];gf=dM(gg, cO((gs, gt, gu) => go+gs+gt+gu, gn[1].$0, gn[1].$1.$0, gn[1].$1.$1.$0));} else { const gp=gn[0];gf=dM(gg, cN((gs) => gp+d2("", gs), cP(gn[1])));} } else { const gq=gn[0];gf=dM(gg, cQ((gs, gt) => gq+gs+gt, gn[1].$0, gn[1].$1.$0));} } else if(gn[0]=="")gf=dM(gg, gn[1].$0);else { const gr=gn[0];gf=dM(gg, cN((gs) => gr+gs, gn[1].$0));} } else gf=dW.Create(gg, gn[0]);return f3(ga, gf);})());});let f7=f2;const f8=fY.length==0?M(() => { f6();}):M((ga) => { f6();bt((gb) => { gb(ga);}, fY);});const f9=!s(f2, null)&&f2.length===1&&(l(f2, 0)instanceof Node&&(l(f2, 0)instanceof Element&&(fU=l(f2, 0),true)))?M(fU):null;let f_={Els:f7, Dirty:true, Holes:fV, Attrs:fX, Render:f8?f8.$0:void 0, El:f9?f9.$0:void 0};let f$=fP(f_, ["Render", "El"]);return[f$, d_(cL(), cR, fW)];}
function u0030(){ return ci.GlobalHoles;}
function u0031(fS, fT, fU){ c9(fS, fT, (fV) => { if(fV.closest("[ws-preserve]")==null)fU(fV);});}
function u0032(fS, fT, fU){ const fV=V(fU);return(fW) => { Y(fS, fT, fV, fW);};}
function u0033(fS, fT){ c_(fS, (fU) => { if(fU.closest("[ws-preserve]")==null)fT(fU);});}
function u0034(){ return ci.TextHoleRE;}
class u0035 extends j { docNode;updates;static RunById(fS, fT){ const fU=globalThis.document.getElementById(fS);if(s(fU, null))g("invalid id: "+fS);else u0035.Run(fU, fT);} static Run(fS, fT){ cj(fS, fT.docNode);u0035.RunInPlace(false, fS, fT);} static get Empty(){ return u0035.Mk(null, cL());} static RunInPlace(fS, fT, fU){ const fV=cl(fT, fU.docNode);cM(df()||dm()?dn(cm(fS, fV, fU.docNode)):() => { cn(fS, fV, fU.docNode);}, fU.updates);} static Mk(fS, fT){ return new u0035(fS, fT);} static TextNode(fS){ return u0035.Mk(bM(globalThis.document.createTextNode(fS)), cL());} static TextView(fS){ const fT=cw();return u0035.Mk(bN(fT), cN((fU) => { cx(fT, fU);}, fS));} constructor(fS, fT){ super();this.docNode=fS;this.updates=fT;} }
function u0036(fS){ const fT={};const fU=cd(fS);try { while(fU.MoveNext()){ const fV=fU.Current;fT[fV[0]]=fV[1];} } finally { if(typeof fU=="object"&&a(fU))fU.Dispose();} return fT;}
class u0037 extends j { equals;hash;count;data;set_Item(fS, fT){ this.set(fS, fT);} set(fS, fT){ const fU=this.hash(fS);const fV=this.data[fU];if(fV==null){ this.count=this.count+1;this.data[fU]=new Array({K:fS, V:fT});} else { const fW=bp((fX) => this.equals.apply(null, [(h(fX))[0], fS]), fV);if(fW==null){ this.count=this.count+1;fV.push({K:fS, V:fT});} else fV[fW.$0]={K:fS, V:fT};} } TryGetValue(fS, fT){ const fU=this.data[this.hash(fS)];if(fU==null)return false;else { const fV=bq((fW) => { const fX=h(fW);return this.equals.apply(null, [fX[0], fS])?M(fX[1]):null;}, fU);return fV!=null&&fV.$==1&&(fT.set(fV.$0),true);} } ContainsKey(fS){ const fT=this.data[this.hash(fS)];return fT==null?false:br((fU) => this.equals.apply(null, [(h(fU))[0], fS]), fT);} RemoveKey(fS){ return this.remove(fS);} get Keys(){ return new de(this);} GetEnumerator(){ return cg(bs(E(this.data)));} get Values(){ return new ec(this);} remove(fS){ const fT=this.hash(fS);const fU=this.data[fT];if(fU==null)return false;else { const fV=bw((fW) =>!this.equals.apply(null, [(h(fW))[0], fS]), fU);return o(fV)<fU.length&&(this.count=this.count-1,this.data[fT]=fV,true);} } Item(fS){ return this.get(fS);} get(fS){ const fT=this.data[this.hash(fS)];return fT==null?cc():by((fU) => { const fV=h(fU);return this.equals.apply(null, [fV[0], fS])?M(fV[1]):null;}, fT);} static New_5(){ return new this("New_5");} static New_6(fS, fT, fU){ return new this("New_6", fS, fT, fU);} constructor(fS, fT, fU, fV){ if(fS=="New_5"){ fS="New_6";fT=[];fU=s;fV=v;} if(fS=="New_6"){ const fW=fT;const fX=fU;const fY=fV;super();this.equals=fX;this.hash=fY;this.count=0;this.data=[];const fZ=cd(fW);try { while(fZ.MoveNext()){ const f0=fZ.Current;this.set(f0.K, f0.V);} } finally { if(typeof fZ=="object"&&a(fZ))fZ.Dispose();} } } }
let u0038=fM((fS) => class fT extends j { static { u0038=fS(this);} static Create_1(fU){ return new bQ(false, {s:cH(fU, [])}, fU);} static { } });
class u0039 extends j { equals;hash;data;count;SAdd(fS){ return this.add(fS);} Contains(fS){ const fT=this.data[this.hash(fS)];return fT==null?false:this.arrContains(fS, fT);} add(fS){ const fT=this.hash(fS);const fU=this.data[fT];return fU==null?(this.data[fT]=[fS],this.count=this.count+1,true):this.arrContains(fS, fU)?false:(fU.push(fS),this.count=this.count+1,true);} arrContains(fS, fT){ let fU=true;let fV=0;const fW=fT.length;while(fU&&fV<fW)if(this.equals.apply(null, [fT[fV], fS]))fU=false;else fV=fV+1;return!fU;} GetEnumerator(){ return cd(eF(this.data));} ExceptWith(fS){ const fT=cd(fS);try { while(fT.MoveNext())this.Remove(fT.Current);} finally { if(typeof fT=="object"&&a(fT))fT.Dispose();} } get Count(){ return this.count;} IntersectWith(fS){ const fT=new u0039("New_4", fS, this.equals, this.hash);const fU=eF(this.data);for(let fW=0, fX=fU.length-1;fW<=fX;fW++){ const fV=fU[fW];if(!fT.Contains(fV))this.Remove(fV);} } Remove(fS){ const fT=this.data[this.hash(fS)];return fT==null?false:this.arrRemove(fS, fT)&&(this.count=this.count-1,true);} CopyTo(fS, fT){ const fU=eF(this.data);for(let fV=0, fW=fU.length-1;fV<=fW;fV++)m(fS, fV+fT, fU[fV]);} arrRemove(fS, fT){ let fU=true;let fV=0;const fW=fT.length;while(fU&&fV<fW)if(this.equals.apply(null, [fT[fV], fS])){ fT.splice(fV, 1);fU=false;} else fV=fV+1;return!fU;} static New_3(){ return new this("New_3");} static New_4(fS, fT, fU){ return new this("New_4", fS, fT, fU);} static New_2(fS){ return new this("New_2", fS);} constructor(fS, fT, fU, fV){ if(fS=="New_3"){ fS="New_4";fT=[];fU=s;fV=v;} let fW;if(fS=="New_2"){ fW=fT;fS="New_4";fT=fW;fU=s;fV=v;} if(fS=="New_4"){ const fX=fT;const fY=fU;const fZ=fV;super();this.equals=fY;this.hash=fZ;this.data=[];this.count=0;const f0=cd(fX);try { while(f0.MoveNext())this.add(f0.Current);} finally { if(typeof f0=="object"&&a(f0))f0.Dispose();} } } }
function $(fS, fT){ return{GetEnumerator:() => { const fU=cd(fS);const fV=[true];return new ch(fU, null, (fW) => { if(fW.s.MoveNext()){ fW.c=fW.s.Current;return true;} else { const fX=fW.s;if(!s(fX, null))fX.Dispose();fW.s=null;return fV[0]&&(fV[0]=false,fW.s=cd(fT),fW.s.MoveNext()?(fW.c=fW.s.Current,true):(fW.s.Dispose(),fW.s=null,false));} }, (fW) => { const fX=fW.s;if(!s(fX, null))fX.Dispose();});}};}
function ba(fS){ const fT=cd(fS);try { return fT.MoveNext()?fT.Current:db();} finally { if(typeof fT=="object"&&a(fT))fT.Dispose();} }
function bb(fS, fT, fU){ let fV=fT;const fW=cd(fU);try { while(fW.MoveNext())fV=fS(fV, fW.Current);return fV;} finally { if(typeof fW=="object"&&a(fW))fW.Dispose();} }
function bc(fS, fT){ const fU=cd(fT);try { while(fU.MoveNext())fS(fU.Current);} finally { if(typeof fU=="object"&&a(fU))fU.Dispose();} }
function bd(fS, fT){ return{GetEnumerator:() => { const fU=cd(fT);return new ch(null, null, (fV) => fU.MoveNext()&&(fV.c=fS(fU.Current),true), () => { fU.Dispose();});}};}
function be(fS){ return{GetEnumerator:() => cd(fS())};}
function bf(fS, fT){ return bh(bd(fS, fT));}
function bg(fS){ const fT=cd(fS);try { if(!fT.MoveNext())bj();let fU=fT.Current;while(fT.MoveNext()){ const fV=fT.Current;if(A(fV, fU)===1)fU=fV;} return fU;} finally { if(typeof fT=="object"&&a(fT))fT.Dispose();} }
function bh(fS){ return{GetEnumerator:() => { const fT=cd(fS);function fU(fV){ while(true){ const fW=fV.s;if(s(fW, null)){ if(fT.MoveNext()){ fV.s=cd(fT.Current);fV=fV;} else { fT.Dispose();return false;} } else if(fW.MoveNext()){ fV.c=fW.Current;return true;} else { fV.Dispose();fV.s=null;fV=fV;} } } return new ch(null, null, fU, (fV) => { const fW=fV.s;if(!s(fW, null))fW.Dispose();if(!s(fT, null))fT.Dispose();});}};}
function bi(fS, fT){ return bk(fS, bl(fT));}
function bj(){ return g("The input sequence was empty.");}
function bk(fS, fT){ fS<0?dd():void 0;return{GetEnumerator:() => { const fU=[cd(fT)];return new ch(0, null, (fV) => { fV.s=fV.s+1;if(fV.s>fS)return false;else { const fW=fU[0];return s(fW, null)?db():fW.MoveNext()?(fV.c=fW.Current,fV.s===fS?(fW.Dispose(),fU[0]=null):void 0,true):(fW.Dispose(),fU[0]=null,db());} }, () => { const fV=fU[0];if(!s(fV, null))fV.Dispose();});}};}
function bl(fS){ return{GetEnumerator:() => new ch(0, null, (fT) => { fT.c=fS(fT.s);fT.s=fT.s+1;return true;}, void 0)};}
function bm(fS, fT){ return!bn((fU) =>!fS(fU), fT);}
function bn(fS, fT){ const fU=cd(fT);try { let fV=false;while(!fV&&fU.MoveNext())fV=fS(fU.Current);return fV;} finally { if(typeof fU=="object"&&a(fU))fU.Dispose();} }
function bo(fS, fT){ const fU=[];for(let fW=0, fX=fT.length-1;fW<=fX;fW++){ const fV=fS(fT[fW]);if(fV==null){ } else fU.push(fV.$0);} return fU;}
function bp(fS, fT){ let fU=null;let fV=0;while(fV<fT.length&&fU==null){ fS(fT[fV])?fU=M(fV):void 0;fV=fV+1;} return fU;}
function bq(fS, fT){ let fU=null;let fV=0;while(fV<fT.length&&fU==null){ const fW=fS(fT[fV]);if(fW!=null&&fW.$==1)fU=fW;fV=fV+1;} return fU;}
function br(fS, fT){ let fU=false;let fV=0;while(!fU&&fV<o(fT))if(fS(fT[fV]))fU=true;else fV=fV+1;return fU;}
function bs(fS){ return Array.prototype.concat.apply([], bx(fS));}
function bt(fS, fT){ for(let fU=0, fV=fT.length-1;fU<=fV;fU++)fS(fT[fU]);}
function bu(fS, fT, fU){ let fV=fU;const fW=fT.length;for(let fX=1, fY=fW;fX<=fY;fX++)fV=fS(fT[fW-fX], fV);return fV;}
function bv(fS, fT){ const fU=new Array(fT.length);for(let fV=0, fW=fT.length-1;fV<=fW;fV++)fU[fV]=fS(fT[fV]);return fU;}
function bw(fS, fT){ const fU=[];for(let fV=0, fW=fT.length-1;fV<=fW;fV++)if(fS(fT[fV]))fU.push(fT[fV]);return fU;}
function bx(fS){ if(fS instanceof Array)return fS.slice();else if(fS instanceof d1)return bz(fS);else { const fT=[];const fU=cd(fS);try { while(fU.MoveNext())fT.push(fU.Current);return fT;} finally { if(typeof fU=="object"&&a(fU))fU.Dispose();} } }
function by(fS, fT){ const fU=bq(fS, fT);return fU==null?g("KeyNotFoundException"):fU.$0;}
function bz(fS){ const fT=[];let fU=fS;while(!(fU.$==0)){ fT.push(e2(fU));fU=e3(fU);} return fT;}
function bA(fS, fT){ let fU=true;let fV=0;while(fU&&fV<o(fT))if(fS(fT[fV]))fV=fV+1;else fU=false;return fU;}
function bB(fS, fT){ const fU=new Array(fS);for(let fV=0, fW=fS-1;fV<=fW;fV++)fU[fV]=fT;return fU;}
function bC(fS, fT){ if(fS<0)g("Negative size given.");else null;const fU=new Array(fS);for(let fV=0, fW=fS-1;fV<=fW;fV++)fU[fV]=fT(fV);return fU;}
let bD=fM((fS) => class fT extends j { static { bD=fS(this);} static init;id;vars;static initialized;static instances;static GetOrAddHoleFor(fU, fV, fW){ let fX;const fY=bD.GetHolesFor(fU);const fZ=(fX=null,[fY.TryGetValue(fV, {get:() => fX, set:(f1) => { fX=f1;}}), fX]);if(fZ[0])return fZ[1];else { const f0=fW();fY.set_Item(fV, f0);return f0;} } static GetHolesFor(fU){ let fV;const fW=(fV=null,[bD.initialized.TryGetValue(fU, {get:() => fV, set:(fY) => { fV=fY;}}), fV]);if(fW[0])return fW[1];else { const fX=new u0037("New_5");bD.initialized.set_Item(fU, fX);return fX;} } static { bD.initialized=new u0037("New_5");bD.instances=new u0037("New_5");} });
class bE extends q { name;fillWith;get Name(){ return this.name;} ForTextView(){ return M(this.fillWith.View);} AddAttribute(fS, fT){(fS(fT))(dN(this.fillWith));} get AsChoiceView(){ return d0(cN(String, this.fillWith.View));} constructor(fS, fT){ super();this.name=fS;this.fillWith=fT;} }
class bF extends q { name;fillWith;get Name(){ return this.name;} ForTextView(){ return M(cN(String, this.fillWith.View));} AddAttribute(fS, fT){(fS(fT))(dO(this.fillWith));} get AsChoiceView(){ return d0(cN(String, this.fillWith.View));} constructor(fS, fT){ super();this.name=fS;this.fillWith=fT;} }
class bG extends q { name;fillWith;get Name(){ return this.name;} ForTextView(){ return M(cN(String, this.fillWith.View));} AddAttribute(fS, fT){(fS(fT))(dP(this.fillWith));} get AsChoiceView(){ return d0(cN(String, this.fillWith.View));} constructor(fS, fT){ super();this.name=fS;this.fillWith=fT;} }
class bH extends q { name;fillWith;get Name(){ return this.name;} ForTextView(){ return M(cN((fS) =>(new Date(fS)).toLocaleString(), this.fillWith.View));} AddAttribute(fS, fT){(fS(fT))(dQ(this.fillWith));} get AsChoiceView(){ return d0(cN((fS) =>(new Date(fS)).toLocaleString(), this.fillWith.View));} constructor(fS, fT){ super();this.name=fS;this.fillWith=fT;} }
class bI extends q { name;fillWith;get Name(){ return this.name;} ForTextView(){ return M(cN(String, this.fillWith.View));} AddAttribute(fS, fT){(fS(fT))(dR(this.fillWith));} get AsChoiceView(){ return d0(cN(String, this.fillWith.View));} constructor(fS, fT){ super();this.name=fS;this.fillWith=fT;} }
class bJ extends q { name;fillWith;get Name(){ return this.name;} get Value(){ return this.fillWith;} constructor(fS, fT){ super();this.name=fS;this.fillWith=fT;} }
class bK extends q { name;fillWith;get Name(){ return this.name;} ForTextView(){ return M(cN((fS) => d2(",", fS), this.fillWith.View));} AddAttribute(fS, fT){(fS(fT))(dS(this.fillWith));} get AsChoiceView(){ return d0(cN(String, this.fillWith.View));} constructor(fS, fT){ super();this.name=fS;this.fillWith=fT;} }
function bL(fS){ return{$:6, $0:fS};}
function bM(fS){ return{$:5, $0:fS};}
function bN(fS){ return{$:4, $0:fS};}
class bO { }
function bP(fS, fT){ return fB(fS, -2147483648, 2147483647, fT);}
class bQ extends r { isConst;current;snap;view;id;get View(){ return this.view;} Set(fS){ if(this.isConst)(((fT) => fT("WebSharper.UI: invalid attempt to change value of a Var after calling SetFinal"))((fT) => { console.log(fT);}));else { dp(this.snap);this.current=fS;this.snap={s:cH(fS, [])};} } SetFinal(fS){ if(this.isConst)(((fT) => fT("WebSharper.UI: invalid attempt to change value of a Var after calling SetFinal"))((fT) => { console.log(fT);}));else { dp(this.snap);this.isConst=true;this.current=fS;this.snap={s:cI(fS)};} } Get(){ return this.current;} UpdateMaybe(fS){ const fT=fS(this.Get());if(fT!=null&&fT.$==1)this.Set(fT.$0);} constructor(fS, fT, fU){ super();this.isConst=fS;this.current=fU;this.snap=fT;this.view=() => this.snap;this.id=cE();} }
function bR(fS, fT, fU){ const fV=fS.s;if(fV==null)fU();else fV!=null&&fV.$==2?(fV.$1.push(fU),fT(fV.$0)):fV!=null&&fV.$==3?(fV.$0.push(fT),fV.$1.push(fU)):fT(fV.$0);}
function bS(fS, fT){ const fU=fT.s;if(fU!=null&&fU.$==0)return{s:cI(fS(fU.$0))};else { const fV={s:cJ([], [])};bZ(fT, (fW) => { b0(fV, fT, fS(fW));}, fV);return fV;} }
function bT(fS, fT, fU, fV){ const fW=fT.s;const fX=fU.s;const fY=fV.s;if(fW!=null&&fW.$==0)return fX!=null&&fX.$==0?fY!=null&&fY.$==0?{s:cI(fS(fW.$0, fX.$0, fY.$0))}:b1(fS, fW.$0, fX.$0, fV):fY!=null&&fY.$==0?b2(fS, fW.$0, fY.$0, fU):b3(fS, fW.$0, fU, fV);else if(fX!=null&&fX.$==0)return fY!=null&&fY.$==0?b4(fS, fX.$0, fY.$0, fT):b5(fS, fX.$0, fT, fV);else if(fY!=null&&fY.$==0)return b6(fS, fY.$0, fT, fU);else { const fZ={s:cJ([], [])};const f0=() => { const f1=fZ.s;if(!(f1!=null&&f1.$==0||f1!=null&&f1.$==2)){ const f2=b7(fT);const f3=b7(fU);const f4=b7(fV);if(f2!=null&&f2.$==1)if(f3!=null&&f3.$==1)if(f4!=null&&f4.$==1)if(f2.$0[1]&&f3.$0[1]&&f4.$0[1])b8(fZ, fS(f2.$0[0], f3.$0[0], f4.$0[0]));else b9(fZ, fS(f2.$0[0], f3.$0[0], f4.$0[0]));} };bZ(fT, f0, fZ);bZ(fU, f0, fZ);bZ(fV, f0, fZ);return fZ;} }
function bU(fS){ const fT=bx(fS);if(fT.length==0)return{s:cI([])};else { const fU={s:cJ([], [])};const fV=[o(fT)-1];const fW=() => { if(fV[0]===0){ const fX=bv((fY) => { const fZ=fY.s;return fZ!=null&&fZ.$==0?fZ.$0:fZ!=null&&fZ.$==2?fZ.$0:g("value not found by View.Sequence");}, fT);if(bA((fY) => { const fZ=fY.s;return fZ!=null&&fZ.$==0;}, fT))b8(fU, fX);else b9(fU, fX);} else fV[0]=fV[0]-1;};bt((fX) => { bZ(fX, fW, fU);}, fT);return fU;} }
function bV(fS, fT, fU){ const fV=fT.s;const fW=fU.s;if(fV!=null&&fV.$==0)return fW!=null&&fW.$==0?{s:cI(fS(fV.$0, fW.$0))}:b_(fS, fV.$0, fU);else if(fW!=null&&fW.$==0)return b$(fS, fW.$0, fT);else { const fX={s:cJ([], [])};const fY=() => { const fZ=fX.s;if(!(fZ!=null&&fZ.$==0||fZ!=null&&fZ.$==2)){ const f0=b7(fT);const f1=b7(fU);if(f0!=null&&f0.$==1)if(f1!=null&&f1.$==1)if(f0.$0[1]&&f1.$0[1])b8(fX, fS(f0.$0[0], f1.$0[0]));else b9(fX, fS(f0.$0[0], f1.$0[0]));} };bZ(fT, fY, fX);bZ(fU, fY, fX);return fX;} }
function bW(fS, fT){ const fU=fS.s;const fV=fT.s;if(fU!=null&&fU.$==0)return fV!=null&&fV.$==0?{s:cI(null)}:fT;else if(fV!=null&&fV.$==0)return fS;else { const fW={s:cJ([], [])};const fX=() => { const fY=fW.s;if(!(fY!=null&&fY.$==0||fY!=null&&fY.$==2)){ const fZ=b7(fS);const f0=b7(fT);if(fZ!=null&&fZ.$==1)if(f0!=null&&f0.$==1)if(fZ.$0[1]&&f0.$0[1])b8(fW, null);else b9(fW, null);} };bZ(fS, fX, fW);bZ(fT, fX, fW);return fW;} }
function bX(fS){ const fT=fS.s;if(fT==null)return fS;else if(fT!=null&&fT.$==2){ const fU={s:cH(fT.$0, [])};ca(fS, fU);return fU;} else if(fT!=null&&fT.$==3){ const fV={s:cJ([], [])};bZ(fS, (fW) => { b0(fV, fS, fW);}, fV);return fV;} else return fS;}
function bY(fS, fT){ const fU=fS.s;if(fU==null)fT();else fU!=null&&fU.$==2?fU.$1.push(fT):fU!=null&&fU.$==3?fU.$1.push(fT):void 0;}
function bZ(fS, fT, fU){ const fV=fS.s;if(fV==null)dp(fU);else fV!=null&&fV.$==2?(cb(fV.$1, fU),fT(fV.$0)):fV!=null&&fV.$==3?(fV.$0.push(fT),cb(fV.$1, fU)):fT(fV.$0);}
function b0(fS, fT, fU){ const fV=fT.s;if(fV!=null&&fV.$==0)b8(fS, fU);else b9(fS, fU);}
function b1(fS, fT, fU, fV){ return bS((fW) => fS(fT, fU, fW), fV);}
function b2(fS, fT, fU, fV){ return bS((fW) => fS(fT, fW, fU), fV);}
function b3(fS, fT, fU, fV){ return bV((fW, fX) => fS(fT, fW, fX), fU, fV);}
function b4(fS, fT, fU, fV){ return bS((fW) => fS(fW, fT, fU), fV);}
function b5(fS, fT, fU, fV){ return bV((fW, fX) => fS(fW, fT, fX), fU, fV);}
function b6(fS, fT, fU, fV){ return bV((fW, fX) => fS(fW, fX, fT), fU, fV);}
function b7(fS){ const fT=fS.s;return fT!=null&&fT.$==0?M([fT.$0, true]):fT!=null&&fT.$==2?M([fT.$0, false]):null;}
function b8(fS, fT){ const fU=fS.s;if(fU!=null&&fU.$==3){ fS.s=cI(fT);const fV=fU.$0;for(let fW=0, fX=o(fV)-1;fW<=fX;fW++)(l(fV, fW))(fT);} else void 0;}
function b9(fS, fT){ const fU=fS.s;if(fU!=null&&fU.$==3){ fS.s=cH(fT, fU.$1);const fV=fU.$0;for(let fW=0, fX=o(fV)-1;fW<=fX;fW++)(l(fV, fW))(fT);} else void 0;}
function b_(fS, fT, fU){ return bS((fV) => fS(fT, fV), fU);}
function b$(fS, fT, fU){ return bS((fV) => fS(fV, fT), fU);}
function ca(fS, fT){ const fU=fS.s;if(fU==null)dp(fT);else fU!=null&&fU.$==2?cb(fU.$1, fT):fU!=null&&fU.$==3?cb(fU.$1, fT):void 0;}
function cb(fS, fT){ fS.push(fT);if(fS.length%20===0){ const fU=fS.slice(0);fH(fS);for(let fW=0, fX=o(fU)-1;fW<=fX;fW++){ const fV=l(fU, fW);if(typeof fV=="object")(((fY) => { if(fY.s)fS.push(fY);})(fV));else(((fY) => { fS.push(fY);})(fV));} } else void 0;}
function cc(){ throw new eO("New");}
function cd(fS){ return fS instanceof Array?ce(fS):s(typeof fS, "string")?cf(fS):fS.GetEnumerator();}
function ce(fS){ return new ch(0, null, (fT) => { const fU=fT.s;return fU<o(fS)&&(fT.c=l(fS, fU),fT.s=fU+1,true);}, void 0);}
function cf(fS){ return new ch(0, null, (fT) => { const fU=fT.s;return fU<fS.length&&(fT.c=fS[fU],fT.s=fU+1,true);}, void 0);}
function cg(fS){ return fS instanceof Array?ce(fS):s(typeof fS, "string")?cf(fS):"GetEnumerator0"in fS?fS.GetEnumerator0():fS.GetEnumerator();}
class ch extends j { s;c;n;d;e;MoveNext(){ const fS=this.n(this);this.e=fS?1:2;return fS;} get Current(){ return this.e===1?this.c:this.e===0?g("Enumeration has not started. Call MoveNext."):g("Enumeration already finished.");} Dispose(){ if(this.d)this.d(this);} constructor(fS, fT, fU, fV){ super();this.s=fS;this.c=fT;this.n=fU;this.d=fV;this.e=0;} }
let ci=fM((fS) => class fT { static { ci=fS(this);} static RenderedFullDocTemplate;static TextHoleRE;static GlobalHoles;static LocalTemplatesLoaded;static LoadedTemplates;static { this.LoadedTemplates=new u0037("New_5");this.LocalTemplatesLoaded=false;this.GlobalHoles=new u0037("New_5");this.TextHoleRE="\\${([^}]+)}";this.RenderedFullDocTemplate=null;} });
function cj(fS, fT){ ck(fS, fT, null);}
function ck(fS, fT, fU){ while(true){ if(fT!=null&&fT.$==1)return cp(fS, fT.$0.El, fU);else if(fT!=null&&fT.$==2){ const fV=fT.$0;fV.Dirty=false;fT=fV.Current;} else if(fT==null)return fU;else if(fT!=null&&fT.$==4)return cp(fS, fT.$0.Text, fU);else if(fT!=null&&fT.$==5)return cp(fS, fT.$0, fU);else if(fT!=null&&fT.$==6)return bu((fY, fZ) =>((((f0) =>(f1) =>(f2) => f1==null||f1.constructor===Object?ck(f0, f1, f2):cp(f0, f1, f2))(fS))(fY))(fZ), fT.$0.Els, fU);else { const fW=fT.$1;const fX=fT.$0;fT=fX;fU=ck(fS, fW, fU);} } }
function cl(fS, fT){ return ed(ee(), cq(fS, dw(), fT));}
function cm(fS, fT, fU){ if(df()){ const fV=null;return el(() => { const fW=ef(fU);const fX=cu(fT, fW);const fY=ct(fT, fW);return em(dg(dh(fX, cs(fT, fW))), () => em(cr(fS, fT), () => em(dg(fY), () => { fT.PreviousNodes=fW;return ep(null);})));});} else return cr(fS, fT);}
function cn(fS, fT, fU){ const fV=ef(fU);cv(fS, fT.Top);fT.PreviousNodes=fV;}
function co(fS, fT){ const fU=fS.parentNode;const fV=globalThis.document.createTextNode("");fU.insertBefore(fV, fS);cy(fS, fT);return fV;}
function cp(fS, fT, fU){ c$(fS, fU, fT);return fT;}
function cq(fS, fT, fU){ cj(fS, fU);const fV=dq(fS, fT);return cD.New(fV, fU, null, fS, cE(), fN(fV.OnAfterRender));}
function cr(fS, fT){ if(dm()){ const fU=(fV) => { requestAnimationFrame(() => { cv(fS, fT.Top);fV();});};return eu((fV, fW, fX) => fU.apply(null, [fV, fW, fX]));} else { cv(fS, fT.Top);return ep(null);} }
function cs(fS, fT){ return dk(bv((fU) => dy(fU.Attr), ej(ei(fT, eh((fU) => dx(fU.Attr), fS.PreviousNodes)))));}
function ct(fS, fT){ return dk(bv((fU) => dA(fU.Attr), ej(ei(fS.PreviousNodes, eh((fU) => dz(fU.Attr), fT)))));}
function cu(fS, fT){ const fU=(fW) => dB(fW.Attr);const fV=(fW) => eh(fU, fW);return dk(bv((fW) => dC(fW.Attr), ej(ek(fV(fS.PreviousNodes), fV(fT)))));}
function cv(fS, fT){!fS?cz(fT):void 0;cA(fT.Children);cB(fT);}
function cw(){ return{Text:globalThis.document.createTextNode(""), Dirty:false, Value:""};}
function cx(fS, fT){ fS.Value=fT;fS.Dirty=true;}
function cy(fS, fT){ ck(fS.parentNode, fT, fS);}
function cz(fS){ function fT(fU){ function fV(fW){ while(true){ if(fW!=null&&fW.$==0){ const fX=fW.$1;const fY=fW.$0;if(fV(fY))return true;else fW=fX;} else if(fW!=null&&fW.$==2){ const fZ=fW.$0;if(fZ.Dirty)return true;else fW=fZ.Current;} else if(fW!=null&&fW.$==6){ const f0=fW.$0;return f0.Dirty||br(fT, f0.Holes);} else return false;} } return fV(fU.Children);} dF(fS.El, fS.Attr);if(fT(fS))cC(fS);}
function cA(fS){ while(true){ if(fS!=null&&fS.$==1)return cv(false, fS.$0);else if(fS!=null&&fS.$==2){ const fT=fS.$0;fS=fT.Current;} else if(fS==null)return null;else if(fS!=null&&fS.$==5)return null;else if(fS!=null&&fS.$==4){ const fU=fS.$0;return fU.Dirty?(fU.Text.nodeValue=fU.Value,fU.Dirty=false):null;} else if(fS!=null&&fS.$==6){ const fV=fS.$0;bt((fY) => { cv(false, fY);}, fV.Holes);bt((fY) => { dF(fY[0], fY[1]);}, fV.Attrs);return cB(fV);} else { const fW=fS.$1;const fX=fS.$0;cA(fX);fS=fW;} } }
function cB(fS){ const fT=fN(fS.Render);if(fT!=null&&fT.$==1){ fT.$0(fS.El);fL(fS, "Render", null);} }
function cC(fS){ const fT=fS.El;function fU(fY, fZ){ while(true){ if(fY!=null&&fY.$==1)return fY.$0.El;else if(fY!=null&&fY.$==2){ const f0=fY.$0;if(f0.Dirty){ f0.Dirty=false;return ck(fT, f0.Current, fZ);} else fY=f0.Current;} else if(fY==null)return fZ;else if(fY!=null&&fY.$==4)return fY.$0.Text;else if(fY!=null&&fY.$==5)return fY.$0;else if(fY!=null&&fY.$==6){ const f1=fY.$0;if(f1.Dirty)f1.Dirty=false;return bu((f4, f5) => f4==null||f4.constructor===Object?fU(f4, f5):f4, f1.Els, fZ);} else { const f2=fY.$1;const f3=fY.$0;fY=f3;fZ=fU(f2, fZ);} } } const fV=fS.El;fw((fY) => { da(fV, fY);}, fv(fx(fS), fu(fS.El, fN(fS.Delimiters))));let fW=fS.Children;const fX=fN(fS.Delimiters);fU(fW, fX!=null&&fX.$==1?fX.$0[1]:null);}
class cD { Attr;Children;Delimiters;El;ElKey;Render;Equals(fS){ return this.ElKey===fS.ElKey;} GetHashCode(){ return this.ElKey;} static New(fS, fT, fU, fV, fW, fX){ const fY={Attr:fS, Children:fT, El:fV, ElKey:fW};let fZ=(fL(fY, "Delimiters", fU),fL(fY, "Render", fX),fY);return fQ(cD, fZ);} }
function cE(){ cF(cG()+1);return cG();}
function cF(fS){ eG.counter=fS;}
function cG(){ return eG.counter;}
function cH(fS, fT){ return{$:2, $0:fS, $1:fT};}
function cI(fS){ return{$:0, $0:fS};}
function cJ(fS, fT){ return{$:3, $0:fS, $1:fT};}
class cK extends u0035 { docNode_1;updates_1;elt;rvUpdates;static TreeNode(fS, fT){ const fU=eb.Create(fT);const fV=bv((fY) => dr(fY[1]), fS.Attrs);let fW=d_(cL(), cR, fV);let fX=cR(fW, fU.v);return new cK(bL(fS), fX, l(fS.Els, 0), fU);} constructor(fS, fT, fU, fV){ super(fS, fT);this.docNode_1=fS;this.updates_1=fT;this.elt=fU;this.rvUpdates=fV;} }
function cL(fS){ const fT={s:cI(fS)};return() => fT;}
function cM(fS, fT){ function fU(){ bR(fT(), fS, () => { eq().Fork(fU);});} eq().Fork(fU);}
function cN(fS, fT){ return cS(() => bS(fS, fT()));}
function cO(fS, fT, fU, fV){ return cS(() => bT(fS, fT(), fU(), fV()));}
function cP(fS){ return cS(() => bU(bd((fT) => fT(), fS)));}
function cQ(fS, fT, fU){ return cS(() => bV(fS, fT(), fU()));}
function cR(fS, fT){ return cS(() => bW(fS(), fT()));}
function cS(fS){ const fT={c:null, o:fS};return() => { let fU=fT.c;if(fU===null){ fU=fT.o();fT.c=fU;const fV=fU.s;if(fV!=null&&fV.$==0)fT.o=null;else bY(fU, () => { fT.c=null;});return fU;} else return fU;};}
function cT(fS){ let fT=null;let fU=0;const fV=fS.textContent;const fW=new RegExp(u0034(), "g");while(fT=fW.exec(fV),fT!==null){ fS.parentNode.insertBefore(globalThis.document.createTextNode(c1(fV, M(fU), M(fW.lastIndex-l(fT, 0).length-1))), fS);fU=fW.lastIndex;const fX=globalThis.document.createElement("span");fX.setAttribute("ws-replace", l(fT, 1).toLowerCase());fS.parentNode.insertBefore(fX, fS);} fW.lastIndex=0;fS.textContent=c1(fV, M(fU), null);}
function cU(fS){ console.warn("Instantiating non-loaded template", fS);}
function cV(fS, fT, fU){ const fV=fS.querySelector("[ws-replace]");return s(fV, null)?(console.warn("Filling non-existent text hole", fU),null):(fV.parentNode.replaceChild(globalThis.document.createTextNode(fT), fV),M(fV.getAttribute("ws-replace")));}
function cW(fS, fT){ const fU=(fV) => { u0031(fS, "["+fV+"]", (fW) => { if(!fT.Contains(fW.getAttribute(fV)))fW.removeAttribute(fV);});};fU("ws-attr");fU("ws-onafterrender");fU("ws-var");u0031(fS, "[ws-hole]", (fV) => { if(!fT.Contains(fV.getAttribute("ws-hole"))){ fV.removeAttribute("ws-hole");while(fV.hasChildNodes())fV.removeChild(fV.lastChild);} });u0031(fS, "[ws-replace]", (fV) => { if(!fT.Contains(fV.getAttribute("ws-replace")))fV.parentNode.removeChild(fV);});u0031(fS, "[ws-on]", (fV) => { fV.setAttribute("ws-on", d2(" ", bw((fW) => fT.Contains(l(d3(fW, [":"], 1), 1)), d3(fV.getAttribute("ws-on"), [" "], 1))));});u0031(fS, "[ws-attr-holes]", (fV) => { const fW=d3(fV.getAttribute("ws-attr-holes"), [" "], 1);for(let f0=0, f1=fW.length-1;f0<=f1;f0++){ const fX=l(fW, f0);let fY=new RegExp(u0034(), "g");let fZ=fV.getAttribute(fX).replace(fY, (f2, f3) => fT.Contains(f3)?f2:"");fV.setAttribute(fX, fZ);} });}
function cX(fS, fT){ c0(fT);const fU=fT.nodeName.toLowerCase();const fV=fS.querySelector("[ws-attr="+fU+"]");if(s(fV, null))console.warn("Filling non-existent attr hole", fU);else { fV.removeAttribute("ws-attr");for(let fX=0, fY=fT.attributes.length-1;fX<=fY;fX++){ const fW=fT.attributes.item(fX);if(fW.name=="class"&&fV.hasAttribute("class"))fV.setAttribute("class", fV.getAttribute("class")+" "+fW.nodeValue);else fV.setAttribute(fW.name, fW.nodeValue);} } }
function cY(fS, fT){ const fU=(fV) => { u0031(fS, "["+fV+"]", (fW) => { let fX;const fY=(fX=null,[fT.TryGetValue(fW.getAttribute(fV).toLowerCase(), {get:() => fX, set:(fZ) => { fX=fZ;}}), fX]);if(fY[0])fW.setAttribute(fV, fY[1]);});};fU("ws-hole");fU("ws-replace");fU("ws-attr");fU("ws-onafterrender");fU("ws-var");u0031(fS, "[ws-on]", (fV) => { fV.setAttribute("ws-on", d2(" ", bv((fW) => { let fX;const fY=d3(fW, [":"], 1);const fZ=(fX=null,[fT.TryGetValue(l(fY, 1), {get:() => fX, set:(f0) => { fX=f0;}}), fX]);return fZ[0]?l(fY, 0)+":"+fZ[1]:fW;}, d3(fV.getAttribute("ws-on"), [" "], 1))));});u0031(fS, "[ws-attr-holes]", (fV) => { const fW=d3(fV.getAttribute("ws-attr-holes"), [" "], 1);for(let fX=0, fY=fW.length-1;fX<=fY;fX++)((() => { const fZ=l(fW, fX);return fV.setAttribute(fZ, bb((f0, f1) => { const f2=h(f1);return f0.replace(new RegExp("\\${"+f2[0]+"}", "ig"), "${"+f2[1]+"}");}, fV.getAttribute(fZ), fT));})());});}
function cZ(fS, fT, fU){ while(true){ if(fS.hasChildNodes())fU=fT.insertBefore(fS.lastChild, fU);else return null;} }
function c0(fS){ const fT=fS.attributes;const fU=[];const fV=[];const fW=[];for(let f1=0, f2=fT.length-1;f1<=f2;f1++){ const fX=fT.item(f1);if(d4(fX.nodeName, "ws-on")&&fX.nodeName!="ws-onafterrender"&&fX.nodeName!="ws-on"){ fU.push(fX.nodeName);fV.push(c1(fX.nodeName, M("ws-on".length), null)+":"+fX.nodeValue.toLowerCase());} else if(!d4(fX.nodeName, "ws-")&&(new RegExp(u0034())).test(fX.nodeValue)){ let fY=new RegExp(u0034(), "g");let fZ=fX.nodeValue.replace(fY, (f3, f4) =>"${"+f4.toLowerCase()+"}");fX.nodeValue=fZ;fW.push(fX.nodeName);} else void 0;} if(!(fV.length==0))fS.setAttribute("ws-on", d2(" ", fV));if(!(fW.length==0))fS.setAttribute("ws-attr-holes", d2(" ", fW));const f0=(f3) => { const f4=fS.getAttribute(f3);if(f4==null){ } else fS.setAttribute(f3, f4.toLowerCase());};f0("ws-hole");f0("ws-replace");f0("ws-attr");f0("ws-onafterrender");f0("ws-var");bt((f3) => { fS.removeAttribute(f3);}, fU);}
function c1(fS, fT, fU){ if(fT==null){ if(fU!=null&&fU.$==1){ const fV=fU.$0;return fV<0?"":fS.slice(0, fV+1);} else return"";} else if(fU==null)return fS.slice(fT.$0);else { const fW=fU.$0;return fW<0?"":fS.slice(fT.$0, fW+1);} }
function c2(fS){ const fT=globalThis.document.createElement("div");if(!c4().test(fS)){ fT.appendChild(globalThis.document.createTextNode(fS));return fT;} else { const fU=c8().exec(fS);const fV=s(fU, null)?"":l(fU, 1).toLowerCase();const fW=(c5())[fV];const fX=fW?fW:c6();fT.innerHTML=fX[1]+fS.replace(c7(), "<$1></$2>")+fX[2];function fY(fZ, f0){ while(true){ if(f0===0)return fZ;else { const f1=f0;fZ=fZ.lastChild;f0=f1-1;} } } return fY(fT, fX[0]);} }
function c3(fS){ const fT=[];for(let fU=0, fV=fS.childNodes.length-1;fU<=fV;fU++)fT.push(fS.childNodes[fU]);return fT;}
function c4(){ return eH.rhtml;}
function c5(){ return eH.wrapMap;}
function c6(){ return eH.defaultWrap;}
function c7(){ return eH.rxhtmlTag;}
function c8(){ return eH.rtagName;}
function c9(fS, fT, fU){ const fV=fS.querySelectorAll(fT);for(let fW=0, fX=fV.length-1;fW<=fX;fW++)fU(fV[fW]);}
function c_(fS, fT){ const fU=globalThis.document.querySelectorAll(fS);for(let fV=0, fW=fU.length-1;fV<=fW;fV++)fT(fU[fV]);}
function c$(fS, fT, fU){ let fV;if(fU.parentNode===fS){ const fW=fU.nextSibling;let fX=s(fW, null)?null:fW;fV=fT===fX;} else fV=false;if(!fV)fS.insertBefore(fU, fT);}
function da(fS, fT){ if(fT.parentNode===fS)fS.removeChild(fT);}
function db(){ return g("The input sequence has an insufficient number of elements.");}
function dc(fS, fT){ let fU=true;let fV=0;while(fU&&fV<o(fT))if(s(fT[fV], fS))fU=false;else fV=fV+1;return!fU;}
function dd(){ return g("The input must be non-negative.");}
class de extends j { d;GetEnumerator(){ return cd(bd((fS) => fS.K, this.d));} constructor(fS){ super();this.d=fS;} }
function df(){ return ew();}
function dg(fS){ const fT=null;return el(() => em(di(() => { }, ex(fS)), () => { ey(fS);return ep(null);}));}
function dh(fS, fT){ return dj(eJ(fS.$0, fT.$0));}
function di(fS, fT){ const fU=fT.Duration;if(fU===0)return en();else { const fV=(fW) => { function fX(fY){ return(fZ) => { const f0=fZ-fY;fT.Compute(f0);fS();return f0<=fU?void requestAnimationFrame((f1) => {(fX(fY))(f1);}):fW();};} requestAnimationFrame((fY) => {(fX(fY))(fY);});};return eu((fW, fX, fY) => fV.apply(null, [fW, fX, fY]));} }
function dj(fS){ return{$:0, $0:fS};}
function dk(fS){ return dj(eL(bd(eA, fS)));}
function dl(){ return dj(eM());}
function dm(){ return eE.BatchUpdatesEnabled;}
function dn(fS){ const fT=[0];function fU(){ const fV=null;return el(() => em(fS, () => { const fW=fT[0];return s(fW, 1)?(fT[0]=0,en()):s(fW, 2)?(fT[0]=1,fU()):en();}));} return() => { const fV=fT[0];if(s(fV, 0)){ fT[0]=1;eo(fU(), null);} else s(fV, 1)?fT[0]=2:void 0;};}
function do_1(fS, fT, fU, fV){ const fW={DynElem:fS, DynFlags:fT, DynNodes:fU};fL(fW, "OnAfterRender", fV);return fW;}
function dp(fS){ let fT;const fU=fS.s;if(fU==null||(fU!=null&&fU.$==2?(fT=fU.$1,false):fU!=null&&fU.$==3?(fT=fU.$1,false):true))void 0;else { fS.s=null;for(let fW=0, fX=o(fT)-1;fW<=fX;fW++){ const fV=l(fT, fW);if(typeof fV=="object")(((fY) => { dp(fY);})(fV));else fV();} } }
function dq(fS, fT){ const fU=[];const fV=[];function fW(fZ){ while(true){ if(!(fZ===null)){ if(fZ!=null&&fZ.$==1)return fU.push(fZ.$0);else if(fZ!=null&&fZ.$==2){ const f0=fZ.$1;const f1=fZ.$0;fW(f1);fZ=f0;} else return fZ!=null&&fZ.$==3?fZ.$0(fS):fZ!=null&&fZ.$==4?fV.push(fZ.$0):null;} else return null;} } fW(fT);const fX=fU.slice(0);let fY=do_1(fS, dt(fT), fX, fV.length===0?null:M((fZ) => { bc((f0) => { f0(fZ);}, fV);}));return fY;}
function dr(fS){ return d$((fT) => fT.NChanged, cL(), cR, fS.DynNodes);}
function ds(fS){ return do_1(fS, 0, [], null);}
function dt(fS){ return fS!==null&&fS.hasOwnProperty("flags")?fS.flags:0;}
function du(fS){ return dW.A3(fS);}
function dv(fS, fT){ return dW.A1(new eN(fS, fT));}
function dw(){ return eP.EmptyAttr;}
function dx(fS){ const fT=2;return(fS.DynFlags&fT)===fT;}
function dy(fS){ return dE(fS, (fT, fU) => fT.NGetExitAnim(fU));}
function dz(fS){ const fT=1;return(fS.DynFlags&fT)===fT;}
function dA(fS){ return dE(fS, (fT, fU) => fT.NGetEnterAnim(fU));}
function dB(fS){ const fT=4;return(fS.DynFlags&fT)===fT;}
function dC(fS){ return dE(fS, (fT, fU) => fT.NGetChangeAnim(fU));}
function dD(fS, fT){ if(fS===null)return fT;else if(fT===null)return fS;else { const fU=dW.A2(fS, fT);dG(fU, dt(fS)|dt(fT));return fU;} }
function dE(fS, fT){ return dk(bv((fU) => fT(fU, fS.DynElem), fS.DynNodes));}
function dF(fS, fT){ bt((fU) => { fU.NSync(fS);}, fT.DynNodes);}
function dG(fS, fT){ fS.flags=fT;}
class dH extends q { name;fillWith;get Value(){ return this.fillWith;} get Name(){ return this.name;} }
class dI extends q { name;fillWith;get Value(){ return this.fillWith;} get Name(){ return this.name;} }
class dJ extends q { name;fillWith;get Value(){ return this.fillWith;} get Name(){ return this.name;} }
function dK(fS, fT){ return du((fU) => { fU.addEventListener(fS, (fV) =>(fT(fU))(fV), false);});}
function dL(fS){ return dW.A4(fS);}
function dM(fS, fT){ return dv(fT, (fU) =>(fV) => fU.setAttribute(fS, fV));}
function dN(fS){ return dT(fl(), fS);}
function dO(fS){ return dT(fm(), fS);}
function dP(fS){ return dT(fn(), fS);}
function dQ(fS){ return dT(fo(), fS);}
function dR(fS){ return dT(fp(), fS);}
function dS(fS){ return dT(fq(), fS);}
function dT(fS, fT){ const fU=fS(fT);return dW.Append(du(fU[0]), dU(fU[1], fU[2]));}
function dU(fS, fT){ return dv(fT, fS);}
class dV extends q { name;fillWith;get Value(){ return this.fillWith;} get Name(){ return this.name;} }
class dW { static Handler(fS, fT){ return dW.HandlerImpl(fS, fT);} static Concat(fS){ const fT=ea(fS);return d_(dw(), dW.Append, fT);} static Create(fS, fT){ return du((fU) => { fU.setAttribute(fS, fT);});} static HandlerImpl(fS, fT){ return du((fU) => { fU.addEventListener(fS, (fV) =>(fT(fU))(fV), false);});} static Append(fS, fT){ return dD(fS, fT);} static A4(fS){ return fQ(dW, {$:4, $0:fS});} static A3(fS){ return fQ(dW, {$:3, $0:fS});} static A1(fS){ return fQ(dW, {$:1, $0:fS});} static A2(fS, fT){ return fQ(dW, {$:2, $0:fS, $1:fT});} }
class dX extends q { name;fillWith;get Value(){ return this.fillWith;} get Name(){ return this.name;} }
class dY extends q { name;fillWith;get Value(){ return this.fillWith;} get Name(){ return this.name;} }
function dZ(fS){ return{$:0, $0:fS};}
function d0(fS){ return{$:1, $0:fS};}
class d1 { static Cons(fS, fT){ return fQ(d1, {$:1, $0:fS, $1:fT});} static Empty=fQ(d1, {$:0});GetEnumerator(){ return new ch(this, null, (fS) => { const fT=fS.s;return fT.$==0?false:(fS.c=fT.$0,fS.s=fT.$1,true);}, void 0);} }
function d2(fS, fT){ return bx(fT).join(fS);}
function d3(fS, fT, fU){ return d5(fS, new RegExp("["+d6(fT.join(""))+"]"), fU);}
function d4(fS, fT){ return fS.substring(0, fT.length)==fT;}
function d5(fS, fT, fU){ return fU===1?bw((fV) => fV!=="", d7(fS, fT)):d7(fS, fT);}
function d6(fS){ return fS.replace(new RegExp("[-\\/\\\\^$*+?.()|[\\]{}]", "g"), "\\$&");}
function d7(fS, fT){ return fS.split(fT);}
function d8(fS, fT){ return bm(fS, d9(fT));}
function d9(fS){ return fS==null?"":fS;}
function d_(fS, fT, fU){ const fV=o(fU);function fW(fX){ return(fY) => { let fZ;switch(fY<=0?0:fY===1?fX>=0&&fX<fV?1:(fZ=fY,2):(fZ=fY,2)){ case 0:return fS;case 1:return l(fU, fX);case 2:const f0=fY/2>>0;return fT((fW(fX))(f0), (fW(fX+f0))(fY-f0));} };} return(fW(0))(fV);}
function d$(fS, fT, fU, fV){ const fW=o(fV);function fX(fY){ return(fZ) => { let f0;switch(fZ<=0?0:fZ===1?fY>=0&&fY<fW?1:(f0=fZ,2):(f0=fZ,2)){ case 0:return fT;case 1:return fS(l(fV, fY));case 2:const f1=fZ/2>>0;return fU((fX(fY))(f1), (fX(fY+f1))(fZ-f1));} };} return(fX(0))(fW);}
function ea(fS){ if(fS instanceof Array)return fS;else if(fS instanceof d1)return bz(fS);else if(fS===null)return[];else { const fT=[];const fU=cd(fS);try { while(fU.MoveNext())fT.push(fU.Current);return fT;} finally { if(typeof fU=="object"&&a(fU))fU.Dispose();} } }
class eb { c;s;v;static Create(fS){ let fT;fT=null;fT=eb.New(fS, null, () => { let fU;fU=fT.s;return fU===null?(fU=bX(fT.c()),fT.s=fU,bY(fU, () => { fT.s=null;}),fU):fU;});return fT;} static New(fS, fT, fU){ return fQ(eb, {c:fS, s:fT, v:fU});} }
class ec extends j { d;GetEnumerator(){ return cd(bd((fS) => fS.V, this.d));} constructor(fS){ super();this.d=fS;} }
function ed(fS, fT){ return{PreviousNodes:fS, Top:fT};}
function ee(){ return eg(new u0039("New_3"));}
function ef(fS){ const fT=[];function fU(fX, fY){ while(true)switch(fX){ case 0:if(fY!=null&&fY.$==0){ const fZ=fY.$1;const f0=fY.$0;fU(0, f0);fY=fZ;} else if(fY!=null&&fY.$==1){ const f1=fY.$0;fY=f1;fX=1;} else if(fY!=null&&fY.$==2){ const f2=fY.$0;fY=f2.Current;} else if(fY!=null&&fY.$==6){ const f3=fY.$0.Holes;return(((f4) =>(f5) => { bt(f4, f5);})(fW))(f3);} else return null;break;case 1:fT.push(fY);fY=fY.Children;fX=0;break;} } function fV(fX){ return fU(0, fX);} function fW(fX){ return fU(1, fX);} fV(fS);return eg(new u0039("New_2", fT));}
function eg(fS){ return{$:0, $0:fS};}
function eh(fS, fT){ return eg(eY(fS, fT.$0));}
function ei(fS, fT){ return eg(eZ(fS.$0, fT.$0));}
function ej(fS){ return e0(fS.$0);}
function ek(fS, fT){ return eg(e1(fS.$0, fT.$0));}
function el(fS){ return(fT) => { try {(fS())(fT);} catch(fU){ fT.k(eT(fU));} };}
function em(fS, fT){ return er((fU) => { fS(eS((fV) => { if(fV.$==0){ const fW=fV.$0;eq().Fork(() => { try {(fT(fW))(fU);} catch(fX){ fU.k(eT(fX));} });} else eq().Fork(() => { fU.k(fV);});}, fU.ct));});}
function en(){ return eW.Zero;}
function eo(fS, fT){ const fU=(es())[0];const fV=fT==null?fU:fT.$0;eq().Fork(() => { if(!fV.c)fS(eS((fW) => { if(fW.$==1)et(fW.$0);}, fV));});}
function ep(fS){ return(fT) => { fT.k(eU(fS));};}
function eq(){ return eW.scheduler;}
function er(fS){ return(fT) => { if(fT.ct.c)ev(fT);else fS(fT);};}
function es(){ return eW.defCTS;}
function et(fS){ console.log("WebSharper: Uncaught asynchronous exception", fS);}
function eu(fS){ return(fT) => { const fU=[false];const fV=(fW) => { if(fU[0])g("A continuation provided by Async.FromContinuations was invoked multiple times");else { fU[0]=true;eq().Fork(fW);} };fS((fW) => { fV(() => { fT.k(eU(fW));});}, (fW) => { fV(() => { fT.k(eT(fW));});}, (fW) => { fV(() => { fT.k(eV(fW));});});};}
function ev(fS){ fS.k(eV(new fC("New", fS.ct)));}
function ew(){ return eI.UseAnimations;}
function ex(fS){ return ez(bo((fT) => fT.$==1?M(fT.$0):null, eK(fS.$0)));}
function ey(fS){ bt((fT) => { if(fT.$==0)fT.$0();}, eK(fS.$0));}
function ez(fS){ const fT=ea(fS);const fU=o(fT);if(fU===0)return eB();else if(fU===1)return l(fT, 0);else { const fV=bg(bd((fX) => fX.Duration, fT));const fW=bv((fX) => eD(fV, fX), fT);return eC(fV, (fX) => { bt((fY) => { fY.Compute(fX);}, fW);});} }
function eA(fS){ return fS.$0;}
function eB(fS){ return eC(0, () => fS);}
function eC(fS, fT){ return{Compute:fT, Duration:fS};}
function eD(fS, fT){ const fU=fT.Compute;const fV=fT.Duration;const fW=fD(() => fT.Compute(fT.Duration));return{Compute:(fX) => fX>=fV?fW.f():fU(fX), Duration:fS};}
let eE=fM((fS) => class fT { static { eE=fS(this);} static BatchUpdatesEnabled;static { this.BatchUpdatesEnabled=true;} });
function eF(fS){ let fT=[];let fU;for(var fV in fS)fT.push.apply(fT, fS[fV]);return fT;}
let eG=fM((fS) => class fT { static { eG=fS(this);} static counter;static { this.counter=0;} });
let eH=fM((fS) => class fT { static { eH=fS(this);} static defaultWrap;static wrapMap;static rhtml;static rtagName;static rxhtmlTag;static { this.rxhtmlTag=new RegExp("<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\\w:]+)[^>]*)\\/>", "gi");this.rtagName=new RegExp("<([\\w:]+)");this.rhtml=new RegExp("<|&#?\\w+;");const fU=[1, "<table>", "</table>"];let fV=Object.fromEntries([["option", [1, "<select multiple='multiple'>", "</select>"]], ["legend", [1, "<fieldset>", "</fieldset>"]], ["area", [1, "<map>", "</map>"]], ["param", [1, "<object>", "</object>"]], ["thead", fU], ["tbody", fU], ["tfoot", fU], ["tr", [2, "<table><tbody>", "</tbody></table>"]], ["col", [2, "<table><colgroup>", "</colgoup></table>"]], ["td", [3, "<table><tbody><tr>", "</tr></tbody></table>"]]]);this.wrapMap=fV;this.defaultWrap=[0, "", ""];} });
let eI=fM((fS) => class fT { static { eI=fS(this);} static UseAnimations;static CubicInOut;static { this.CubicInOut=eR.Custom((fU) => { const fV=fU*fU;return 3*fV-2*(fV*fU);});this.UseAnimations=true;} });
function eJ(fS, fT){ return fS.$==0?fT:fT.$==0?fS:{$:2, $0:fS, $1:fT};}
function eK(fS){ const fT=[];function fU(fV){ while(true){ if(fV.$==1)return fT.push(fV.$0);else if(fV.$==2){ const fW=fV.$1;const fX=fV.$0;fU(fX);fV=fW;} else return fV.$==3?bt((fY) => { fT.push(fY);}, fV.$0):null;} } fU(fS);return fT.slice(0);}
function eL(fS){ const fT=ea(fS);return d_(eM(), eJ, fT);}
function eM(){ return fG.Empty;}
class eN extends j { push;value;dirty;updates;get NChanged(){ return this.updates;} NGetExitAnim(fS){ return dl();} NGetEnterAnim(fS){ return dl();} NGetChangeAnim(fS){ return dl();} NSync(fS){ if(this.dirty){(this.push(fS))(this.value);this.dirty=false;} } constructor(fS, fT){ super();this.push=fT;this.value=void 0;this.dirty=false;this.updates=cN((fU) => { this.value=fU;this.dirty=true;}, fS);} }
class eO extends Error { static New(){ return new this("New");} static New_1(fS){ return new this("New_1", fS);} constructor(fS, fT){ if(fS=="New"){ fS="New_1";fT="The given key was not present in the dictionary.";} if(fS=="New_1"){ const fU=fT;super(fU);} } }
let eP=fM((fS) => class fT { static { eP=fS(this);} static FloatApplyChecked;static FloatGetChecked;static FloatSetChecked;static FloatApplyUnchecked;static FloatGetUnchecked;static FloatSetUnchecked;static IntApplyChecked;static IntGetChecked;static IntSetChecked;static IntApplyUnchecked;static IntGetUnchecked;static IntSetUnchecked;static FileApplyUnchecked;static FileGetUnchecked;static FileSetUnchecked;static DateTimeApplyUnchecked;static DateTimeGetUnchecked;static DateTimeSetUnchecked;static StringListApply;static StringListGet;static StringListSet;static StringApply;static StringGet;static StringSet;static BoolCheckedApply;static EmptyAttr;static { this.EmptyAttr=null;this.BoolCheckedApply=(f_) =>[(f$) => { f$.addEventListener("change", () => f_.Get()!=f$.checked?f_.Set(f$.checked):null);}, (f$) =>(ga) => ga!=null&&ga.$==1?void(f$.checked=ga.$0):null, cN(M, f_.View)];this.StringSet=(f_) =>(f$) => { f_.value=f$;};this.StringGet=(f_) => M(f_.value);const fU=e7();const fV=e6();this.StringApply=(f_) => e5(fU, fV, f_);this.StringListSet=(f_) =>(f$) => { const ga=f_.options;for(let gb=0, gc=ga.length-1;gb<=gc;gb++)((() => { const gd=ga.item(gb);gd.selected=dc(gd.value, f$);})());};this.StringListGet=(f_) => { const f$=f_.selectedOptions;return M(bx(be(() => bf((ga) =>[f$.item(ga).value], i(0, f$.length-1)))));};const fW=e9();const fX=e8();this.StringListApply=(f_) => e5(fW, fX, f_);this.DateTimeSetUnchecked=(f_) =>(f$) => { f_.value=(new Date(f$)).toLocaleString();};this.DateTimeGetUnchecked=(f_) => { let f$;let ga;const gb=f_.value;if(fr(gb))return M(-8640000000000000);else { f$=0;const gc=fA(gb);let gd=gc!=null&&gc.$==1&&(f$=gc.$0,true);ga=[gd, f$];return ga[0]?M(ga[1]):null;} };const fY=e$();const fZ=e_();this.DateTimeApplyUnchecked=(f_) => e5(fY, fZ, f_);this.FileSetUnchecked=() =>() => null;this.FileGetUnchecked=(f_) => { const f$=f_.files;return M(bx(be(() => bd((ga) => f$.item(ga), i(0, f$.length-1)))));};const f0=fc();const f1=fb();this.FileApplyUnchecked=(f_) => fa(f0, f1, f_);this.IntSetUnchecked=(f_) =>(f$) => { f_.value=String(f$);};this.IntGetUnchecked=(f_) => { const f$=f_.value;if(fr(f$))return M(0);else { const ga=+f$;return ga!==ga>>0?null:M(ga);} };const f2=fe();const f3=fd();this.IntApplyUnchecked=(f_) => e5(f2, f3, f_);this.IntSetChecked=(f_) =>(f$) => { const ga=f$.Input;return f_.value!=ga?void(f_.value=ga):null;};this.IntGetChecked=(f_) => { let f$;let ga;const gb=f_.value;if(fr(gb))f$=(f_.checkValidity?f_.checkValidity():true)?fs.Blank(gb):fs.Invalid(gb);else { const gc=(ga=0,[bP(gb, {get:() => ga, set:(gd) => { ga=gd;}}), ga]);f$=gc[0]?fs.Valid(gc[1], gb):fs.Invalid(gb);} return M(f$);};const f4=fg();const f5=ff();this.IntApplyChecked=(f_) => e5(f4, f5, f_);this.FloatSetUnchecked=(f_) =>(f$) => { f_.value=String(f$);};this.FloatGetUnchecked=(f_) => { const f$=f_.value;if(fr(f$))return M(0);else { const ga=+f$;return isNaN(ga)?null:M(ga);} };const f6=fi();const f7=fh();this.FloatApplyUnchecked=(f_) => e5(f6, f7, f_);this.FloatSetChecked=(f_) =>(f$) => { const ga=f$.Input;return f_.value!=ga?void(f_.value=ga):null;};this.FloatGetChecked=(f_) => { let f$;const ga=f_.value;if(fr(ga))f$=(f_.checkValidity?f_.checkValidity():true)?fs.Blank(ga):fs.Invalid(ga);else { const gb=+ga;f$=isNaN(gb)?fs.Invalid(ga):fs.Valid(gb, ga);} return M(f$);};const f8=fk();const f9=fj();this.FloatApplyChecked=(f_) => e5(f8, f9, f_);} });
class eQ extends j { idle;robin;Fork(fS){ this.robin.push(fS);this.idle?(this.idle=false,setTimeout(() => { this.tick();}, 0)):void 0;} tick(){ const fS=Date.now();let fT=true;while(fT)if(this.robin.length===0){ this.idle=true;fT=false;} else {(this.robin.shift())();Date.now()-fS>40?(setTimeout(() => { this.tick();}, 0),fT=false):void 0;} } constructor(){ super();this.idle=true;this.robin=[];} }
class eR extends j { transformTime;static Custom(fS){ return new eR(fS);} constructor(fS){ super();this.transformTime=fS;} }
function eS(fS, fT){ return{k:fS, ct:fT};}
function eT(fS){ return{$:1, $0:fS};}
function eU(fS){ return{$:0, $0:fS};}
function eV(fS){ return{$:2, $0:fS};}
let eW=fM((fS) => class fT { static { eW=fS(this);} static GetCT;static Zero;static defCTS;static scheduler;static noneCT;static { this.noneCT=eX(false, []);this.scheduler=new eQ();this.defCTS=[new ft()];this.Zero=ep();this.GetCT=(fU) => { fU.k(eU(fU.ct));};} });
function eX(fS, fT){ return{c:fS, r:fT};}
function eY(fS, fT){ return new u0039("New_2", bw(fS, e0(fT)));}
function eZ(fS, fT){ const fU=new u0039("New_2", e0(fT));fU.ExceptWith(e0(fS));return fU;}
function e0(fS){ const fT=bB(fS.Count, void 0);fS.CopyTo(fT, 0);return fT;}
function e1(fS, fT){ const fU=new u0039("New_2", e0(fS));fU.IntersectWith(e0(fT));return fU;}
function e2(fS){ return fS.$==1?fS.$0:e4();}
function e3(fS){ return fS.$==1?fS.$1:e4();}
function e4(){ return g("The input list was empty.");}
function e5(fS, fT, fU){ let fV;fV=null;return[(fW) => { const fX=() => { fU.UpdateMaybe((fY) => { let fZ;fV=fS(fW);return fV!=null&&fV.$==1&&(!s(fV.$0, fY)&&(fZ=[fV, fV.$0],true))?fZ[0]:null;});};fW.addEventListener("change", fX);fW.addEventListener("input", fX);fW.addEventListener("keypress", fX);}, (fW) => { const fX=fT(fW);return(fY) => fY==null?null:fX(fY.$0);}, cN((fW) => { let fX;return fV!=null&&fV.$==1&&(s(fV.$0, fW)&&(fX=fV.$0,true))?null:M(fW);}, fU.View)];}
function e6(){ return eP.StringSet;}
function e7(){ return eP.StringGet;}
function e8(){ return eP.StringListSet;}
function e9(){ return eP.StringListGet;}
function e_(){ return eP.DateTimeSetUnchecked;}
function e$(){ return eP.DateTimeGetUnchecked;}
function fa(fS, fT, fU){ let fV;fV=null;return[(fW) => { fW.addEventListener("change", () => { fU.UpdateMaybe((fX) => { let fY;fV=fS(fW);return fV!=null&&fV.$==1&&(fV.$0!==fX&&(fY=[fV, fV.$0],true))?fY[0]:null;});});}, (fW) => { const fX=fT(fW);return(fY) => fY==null?null:fX(fY.$0);}, cN((fW) => { let fX;return fV!=null&&fV.$==1&&(s(fV.$0, fW)&&(fX=fV.$0,true))?null:M(fW);}, fU.View)];}
function fb(){ return eP.FileSetUnchecked;}
function fc(){ return eP.FileGetUnchecked;}
function fd(){ return eP.IntSetUnchecked;}
function fe(){ return eP.IntGetUnchecked;}
function ff(){ return eP.IntSetChecked;}
function fg(){ return eP.IntGetChecked;}
function fh(){ return eP.FloatSetUnchecked;}
function fi(){ return eP.FloatGetUnchecked;}
function fj(){ return eP.FloatSetChecked;}
function fk(){ return eP.FloatGetChecked;}
function fl(){ return eP.StringApply;}
function fm(){ return eP.FloatApplyUnchecked;}
function fn(){ return eP.BoolCheckedApply;}
function fo(){ return eP.DateTimeApplyUnchecked;}
function fp(){ return eP.FileApplyUnchecked;}
function fq(){ return eP.StringListApply;}
function fr(fS){ return d8(fz, fS);}
class fs { get Input(){ return this.$==1?this.$0:this.$==2?this.$0:this.$1;} static Blank(fS){ return fQ(fs, {$:2, $0:fS});} static Invalid(fS){ return fQ(fs, {$:1, $0:fS});} static Valid(fS, fT){ return fQ(fs, {$:0, $0:fS, $1:fT});} }
class ft extends j { init;c;pending;r;constructor(){ super();this.c=false;this.pending=null;this.r=[];this.init=1;} }
function fu(fS, fT){ let fU;if(fT!=null&&fT.$==1){ const fV=[];fU=fT.$0[0].nextSibling;while(fU!==fT.$0[1]){ fV.push(fU);fU=fU.nextSibling;} return fy(fV);} else { let fW=fS.childNodes.length;const fX=fS.childNodes;let fY=bC(fW, (fZ) => fX[fZ]);return fy(fY);} }
function fv(fS, fT){ const fU=fS.$0;return fy(bw((fV) => bA((fW) =>!(fV===fW), fU), fT.$0));}
function fw(fS, fT){ bt(fS, fT.$0);}
function fx(fS){ const fT=[];function fU(fV){ while(true){ if(fV!=null&&fV.$==2){ const fW=fV.$0;fV=fW.Current;} else if(fV!=null&&fV.$==1)return fT.push(fV.$0.El);else if(fV==null)return null;else if(fV!=null&&fV.$==5)return fT.push(fV.$0);else if(fV!=null&&fV.$==4)return fT.push(fV.$0.Text);else if(fV!=null&&fV.$==6){ const fX=fV.$0.Els;return(((f0) =>(f1) => { bt(f0, f1);})((f0) => { if(f0==null||f0.constructor===Object)fU(f0);else fT.push(f0);}))(fX);} else { const fY=fV.$1;const fZ=fV.$0;fU(fZ);fV=fY;} } } fU(fS.Children);return fy(ea(fT));}
function fy(fS){ return{$:0, $0:fS};}
function fz(fS){ return fS.match(new RegExp("\\s"))!==null;}
function fA(fS){ const fT=Date.parse(fS);return isNaN(fT)?null:M(fT);}
function fB(fS, fT, fU, fV){ const fW=+fS;const fX=fW===fW-fW%1&&fW>=fT&&fW<=fU;if(fX)fV.set(fW);return fX;}
class fC extends Error { ct;static New(fS){ return new this("New", fS);} static New_1(fS, fT, fU){ return new this("New_1", fS, fT, fU);} constructor(fS, fT, fU, fV){ let fW;if(fS=="New"){ fW=fT;fS="New_1";fT="The operation was canceled.";fU=null;fV=fW;} if(fS=="New_1"){ const fX=fT;const fY=fU;const fZ=fV;super(fX);this.inner=fY;this.ct=fZ;} } }
function fD(fS){ return fI(false, fS, fE);}
function fE(){ const fS=this.v();this.c=true;this.v=fS;this.f=fF;return fS;}
function fF(){ return this.v;}
let fG=fM((fS) => class fT { static { fG=fS(this);} static Empty;static { this.Empty={$:0};} });
function fH(fS){ fS.splice(0, o(fS));}
function fI(fS, fT, fU){ return{c:fS, v:fT, f:fU};}
fR(() => { b();});
fJ();

